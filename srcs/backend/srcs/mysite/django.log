WARNING 2025-02-02 06:59:08,680 log Bad Request: /api/oauth/token
WARNING 2025-02-02 06:59:09,543 log Bad Request: /api/oauth/token
WARNING 2025-02-02 06:59:10,772 log Bad Request: /api/oauth/token
WARNING 2025-02-02 06:59:44,947 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 06:59:46,297 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 06:59:57,480 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 06:59:57,484 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 06:59:57,487 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:02:18,524 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:02:18,529 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:02:18,532 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:09:43,774 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:09:43,775 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:09:43,776 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:29:29,509 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:29:29,512 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:29:29,514 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 07:33:48,418 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:35:43,460 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:35:57,223 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:35:58,228 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:35:58,959 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:37:40,143 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:37:53,844 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:38:25,276 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:40:13,321 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:40:14,332 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:40:15,325 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:44:14,977 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:44:24,129 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:44:25,221 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:44:26,449 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:45:39,878 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:45:56,099 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:45:56,976 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:45:58,197 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:49:13,222 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:49:51,491 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:50:40,313 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:50:41,297 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:50:42,358 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:51:56,069 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:51:57,162 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:51:57,838 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:55:12,342 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:55:25,971 log Bad Request: /api/oauth/token
WARNING 2025-02-02 07:59:01,809 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:15:27,280 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:15:34,734 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:15:35,662 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:15:36,593 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:16:09,178 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:16:10,186 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:16:11,047 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:19:28,137 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:19:28,999 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:19:29,865 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:20:11,940 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:21:07,690 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:21:08,631 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:26:49,958 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:26:49,961 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:26:49,963 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:28:01,804 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:28:01,809 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:28:01,811 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:28:55,708 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:29:08,440 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:29:08,446 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:29:08,448 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:29:20,985 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:30:03,817 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:30:06,437 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:37:03,391 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:41:47,342 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:42:22,076 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:43:34,436 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:43:36,832 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:43:45,049 log Forbidden (CSRF cookie not set.): /api/oauth/token
WARNING 2025-02-02 08:44:45,782 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:44:52,269 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:45:12,497 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:45:20,903 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:45:21,929 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:45:26,977 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:45:35,431 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:45:36,593 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:54:41,955 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:54:47,998 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:55:04,640 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:55:05,610 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:56:54,667 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:57:05,925 log Bad Request: /api/oauth/token
WARNING 2025-02-02 08:57:06,773 log Bad Request: /api/oauth/token
WARNING 2025-02-02 09:02:14,410 log Bad Request: /api/oauth/token
WARNING 2025-02-02 09:04:04,806 log Bad Request: /api/oauth/token
WARNING 2025-02-03 04:55:06,220 log Bad Request: /api/oauth/token
WARNING 2025-02-03 04:57:08,590 log Bad Request: /api/oauth/token
ERROR 2025-02-03 04:58:32,569 log Internal Server Error: /api/oauth/token
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/postgresql/base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
  File "/usr/local/lib/python3.13/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: could not translate host name "postgres" to address: Name or service not known


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/projects/mysite/oauth/views.py", line 55, in token
    user, created = TCDUser.objects.update_or_create(
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        id = api_response["id"],
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        },
        ^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 983, in update_or_create
    with transaction.atomic(using=self.db):
         ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 454, in get_autocommit
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/postgresql/base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
  File "/usr/local/lib/python3.13/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: could not translate host name "postgres" to address: Name or service not known

ERROR 2025-02-03 04:59:53,541 log Internal Server Error: /api/oauth/token
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/postgresql/base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
  File "/usr/local/lib/python3.13/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
psycopg2.OperationalError: could not translate host name "postgres" to address: Name or service not known


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/projects/mysite/oauth/views.py", line 55, in token
    user, created = TCDUser.objects.update_or_create(
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        id = api_response["id"],
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        },
        ^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 983, in update_or_create
    with transaction.atomic(using=self.db):
         ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/transaction.py", line 198, in __enter__
    if not connection.get_autocommit():
           ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 454, in get_autocommit
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 278, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 279, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/base/base.py", line 256, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/utils/asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/postgresql/base.py", line 332, in get_new_connection
    connection = self.Database.connect(**conn_params)
  File "/usr/local/lib/python3.13/site-packages/psycopg2/__init__.py", line 122, in connect
    conn = _connect(dsn, connection_factory=connection_factory, **kwasync)
django.db.utils.OperationalError: could not translate host name "postgres" to address: Name or service not known

ERROR 2025-02-03 05:05:32,436 log Internal Server Error: /api/oauth/token
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/projects/mysite/oauth/views.py", line 55, in token
    user, created = TCDUser.objects.update_or_create(
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        id = api_response["id"],
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        },
        ^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 986, in update_or_create
    obj, created = self.select_for_update().get_or_create(
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        create_defaults, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 645, in get
    num = len(clone)
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "/usr/local/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^

ERROR 2025-02-03 05:08:39,160 log Internal Server Error: /api/oauth/token
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/projects/mysite/oauth/views.py", line 55, in token
    user, created = TCDUser.objects.update_or_create(
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        id = api_response["id"],
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        },
        ^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 986, in update_or_create
    obj, created = self.select_for_update().get_or_create(
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        create_defaults, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 645, in get
    num = len(clone)
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "/usr/local/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^

ERROR 2025-02-03 05:08:56,909 log Internal Server Error: /api/oauth/token
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/projects/mysite/oauth/views.py", line 55, in token
    user, created = TCDUser.objects.update_or_create(
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        id = api_response["id"],
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        },
        ^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 986, in update_or_create
    obj, created = self.select_for_update().get_or_create(
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        create_defaults, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 645, in get
    num = len(clone)
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "/usr/local/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^

ERROR 2025-02-03 05:11:39,307 log Internal Server Error: /api/oauth/token
Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
psycopg2.errors.UndefinedTable: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/exception.py", line 55, in inner
    response = get_response(request)
  File "/usr/local/lib/python3.13/site-packages/django/core/handlers/base.py", line 197, in _get_response
    response = wrapped_callback(request, *callback_args, **callback_kwargs)
  File "/projects/mysite/oauth/views.py", line 55, in token
    user, created = TCDUser.objects.update_or_create(
                    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        id = api_response["id"],
        ^^^^^^^^^^^^^^^^^^^^^^^^
    ...<6 lines>...
        },
        ^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 986, in update_or_create
    obj, created = self.select_for_update().get_or_create(
                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        create_defaults, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 948, in get_or_create
    return self.get(**kwargs), False
           ~~~~~~~~^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 645, in get
    num = len(clone)
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 382, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 1928, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/models/query.py", line 91, in __iter__
    results = compiler.execute_sql(
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
    )
  File "/usr/local/lib/python3.13/site-packages/django/db/models/sql/compiler.py", line 1574, in execute_sql
    cursor.execute(sql, params)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 122, in execute
    return super().execute(sql, params)
           ~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 79, in execute
    return self._execute_with_wrappers(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        sql, params, many=False, executor=self._execute
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 92, in _execute_with_wrappers
    return executor(sql, params, many, context)
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 100, in _execute
    with self.db.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.13/site-packages/django/db/utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "/usr/local/lib/python3.13/site-packages/django/db/backends/utils.py", line 105, in _execute
    return self.cursor.execute(sql, params)
           ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
django.db.utils.ProgrammingError: relation "users_tcduser" does not exist
LINE 1: ..., "users_tcduser"."two_factor_authorization" FROM "users_tcd...
                                                             ^

WARNING 2025-02-03 06:54:48,486 log Bad Request: /api/oauth/token
WARNING 2025-02-03 06:58:24,107 log Bad Request: /api/oauth/token
WARNING 2025-02-03 07:00:11,726 log Bad Request: /api/oauth/token
WARNING 2025-02-03 07:04:07,491 log Bad Request: /api/oauth/token
WARNING 2025-02-03 08:10:28,858 log Bad Request: /api/oauth/token
WARNING 2025-02-03 08:19:37,365 log Bad Request: /api/oauth/token
